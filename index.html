<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Question For You</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* Full-page GIF background */
            background-image: url('bck.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
        }

        /* Dark overlay for better text readability */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4); /* Dark overlay */
            z-index: -1;
        }

        /* Sunflower graphics animation */
        .sunflower {
            animation: growAndFloat 10s ease-in-out infinite alternate;
            opacity: 0;
        }

        @keyframes growAndFloat {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); }
        }
        
        .sunflower.one { animation-delay: 1s; }
        .sunflower.two { animation-delay: 2s; }
        .sunflower.three { animation-delay: 3s; }
        .sunflower.four { animation-delay: 4s; }

        /* Typing effect for the love letter */
        .typing-effect p {
            white-space: pre-wrap;
            overflow: hidden;
            border-right: 0.15em solid #fefae0;
            font-size: 1.5rem;
            max-width: 100%;
        }
        
        /* Styling for the handwritten letter effect */
        #love-letter {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            line-height: 1.5;
            color: #fefae0;
            text-align: left;
            /* Transparent background with a subtle backdrop blur for readability */
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px); /* Safari support */
        }

        .typing-cursor {
            animation: blink-caret 0.75s step-end infinite;
            border-right: 2px solid;
            color: #fefae0;
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #fefae0 }
        }

        /* Loading animation */
        .loading-dots {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
        }

        .dot {
            width: 10px;
            height: 10px;
            margin: 0 4px;
            background-color: #fefae0;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        .dot:nth-child(3) { animation-delay: 0s; }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
        
        /* Incorrect password animation */
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            transform: translate3d(0, 0, 0);
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* New animation for the love letter container */
        @keyframes slide-in-up {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-slide-in-up {
            animation: slide-in-up 1.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <!-- Audio element for background music -->
    <audio id="background-music" src="guitar-and-flute-song-332373.mp3" loop></audio>
    <div class="flex flex-col items-center justify-center h-screen p-4 text-center text-white">
        
        <!-- Sunflower graphics -->
        <div class="sunflower one text-4xl absolute top-[10%] left-[5%]">&#x1F33B;</div>
        <div class="sunflower two text-4xl absolute top-[20%] right-[15%]">&#x1F33B;</div>
        <div class="sunflower three text-4xl absolute bottom-[5%] left-[25%]">&#x1F33B;</div>
        <div class="sunflower four text-4xl absolute bottom-[15%] right-[5%]">&#x1F33B;</div>

        <!-- Unlock Feature -->
        <div id="unlock-container" class="relative bg-gray-800 bg-opacity-70 p-8 rounded-2xl shadow-xl w-11/12 sm:w-full max-w-sm mx-auto flex flex-col items-center space-y-4 transition-all duration-1000 ease-in-out">
            <!-- Updated lock symbol to be transparent dark -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-pink-200" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2h2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2h2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            <p class="text-xl font-bold tracking-wide">Enter the magic word</p>
            <input id="unlock-input" type="text" placeholder="Enter code..." class="w-full text-center px-4 py-3 rounded-full bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500">
            <!-- Updated unlock button to be transparent dark -->
            <button id="unlockButton" class="w-full px-8 py-3 bg-gray-800 bg-opacity-70 hover:bg-gray-700 text-pink-200 font-bold rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
                Unlock
            </button>
        </div>

        <!-- Container for the love letter -->
        <!-- Added a new class `animate-slide-in-up` to trigger the animation -->
        <div id="letter-container" class="mt-8 max-w-md mx-auto transform scale-0 opacity-0 transition-all duration-1000 ease-in-out overflow-y-auto max-h-[90vh]">
            <!-- Removed the gray background from here to make it more transparent -->
            <div id="love-letter" class="p-8 rounded-2xl shadow-xl text-lg text-gray-200 font-medium"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const unlockContainer = document.getElementById('unlock-container');
            const unlockInput = document.getElementById('unlock-input');
            const unlockButton = document.getElementById('unlockButton');
            const letterContainer = document.getElementById('letter-container');
            const loveLetterEl = document.getElementById('love-letter');
            const backgroundMusic = document.getElementById('background-music');
            backgroundMusic.volume = 0.2; // Set a low volume for the background music

            // The secret unlock code
            const unlockKey = "allufarp";

            // The single, static love letter
            const loveLetter = `My Dearest,

From the moment I met you, my world changed. Every day with you is a gift, and I can't imagine my life without you. You are my sunshine, my strength, and my greatest adventure.

I promise to stand by your side through every storm and every triumph. To love you completely, and to cherish you for all of my days.

You are the reason for my smiles and the light in my life. I want to build a future with you, full of laughter, dreams, and endless love.

With all my heart,
Your partner in everything.`;

            function typeWriter(text, element) {
                let charIndex = 0;
                function type() {
                    if (charIndex < text.length) {
                        element.innerHTML += text.charAt(charIndex);
                        charIndex++;
                        setTimeout(type, 50); // Adjust typing speed here
                    }
                }
                type();
            }

            unlockButton.addEventListener('click', () => {
                const enteredCode = unlockInput.value.trim().toLowerCase();
                if (enteredCode === unlockKey) {
                    // Start playing the background music
                    backgroundMusic.play().catch(e => console.error("Music playback failed:", e));
                    
                    // Correct code: hide the unlock container
                    unlockContainer.classList.add('scale-0', 'opacity-0');
                    setTimeout(() => {
                         unlockContainer.style.display = 'none';
                    }, 1000);
                    
                    // Show the love letter container and start typing
                    setTimeout(() => {
                        letterContainer.classList.remove('scale-0', 'opacity-0');
                        letterContainer.classList.add('scale-100', 'opacity-100', 'animate-slide-in-up');
                        typeWriter(loveLetter, loveLetterEl);
                    }, 1000);
                } else {
                    // Incorrect code: shake the container to show an error
                    unlockContainer.classList.add('shake');
                    setTimeout(() => {
                        unlockContainer.classList.remove('shake');
                        unlockInput.value = '';
                    }, 500);
                }
            });
        });
    </script>
</body>
</html>
